<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="YFAR">
<title>Overview of YFAR functions • YFAR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Overview of YFAR functions">
<meta property="og:description" content="YFAR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">YFAR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/YFAR.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Yahoo_API_Guide.html">Yahoo_API_Guide</a>
    <a class="dropdown-item" href="../articles/for_developers.html">For developers</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/macraesdirtysocks/YFAR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="YFAR_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Overview of YFAR functions</h1>
            
            <h4 data-toc-skip class="date">2022-03-04</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/macraesdirtysocks/YFAR/blob/HEAD/vignettes/YFAR.Rmd" class="external-link"><code>vignettes/YFAR.Rmd</code></a></small>
      <div class="d-none name"><code>YFAR.Rmd</code></div>
    </div>

    
    
<p><em>WooHoo!, finally an R package to get fantasy data from Yahoo!</em></p>
<blockquote>
<p><strong>Before begining</strong></p>
<p>This vignette assumes user has created and registered an app with the YDN</p>
</blockquote>
<div class="section level2">
<h2 id="introduction">INTRODUCTION<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This is intended to be read like the opening crawl from Star Wars.</p>
<p>In a world dominated by python where no R tools existed for getting fantasy sports data out of the Yahoo! API. A world where Googling “Yahoo fantasy sports R” or “yahoo in R” or “please not more python stuff, just an R package for getting fantasy data from yahoo” would just return more python packages. But not anymore! Now because of one man - still in his 30’s with enough hair he decided he could afford to sacrifice half - if you Google “yahoo fantasy R”, scroll down to more results, and then more results and probably more results a couple more times…. At last! DAAA DAAA:</p>
<p><strong>YFAR - Yahoo Fantasy API w R</strong></p>
<p>A collection of functions that help you, help yourself to public fantasy data as well the data from past or present private leagues. Even the ones where you finished second last, just ahead of someone who quit the draft after the first round and never logged in again. Hey some years you just don’t got it. We’ve all been there.</p>
<p>A few notes for the user…</p>
<div class="section level3">
<h3 id="terminology-">Terminology.<a class="anchor" aria-label="anchor" href="#terminology-"></a>
</h3>
<p>I really try to use consistent language and labeling throoughout this project but please don’t hold me to it. This is on account of the fact that I was deep into this and them someone gave me a “good idea” and I essentially started all over again. Now this project has really dragged on and now my mind is mush.</p>
<p>I will be referring to games or leagues and they are kinda synonymous but not really. A game in this context is the fantasy sport you are playing or getting data for. I.E. 2021 fantasy hockey is a game.</p>
<p>The overall structure is Game&gt;League&gt;Team&gt;Roster&gt;Players</p>
<p>This can be read as a game is made up of leagues, leagues are made up of teams, teams are made up of a roster, a roster is made up of players.</p>
<p>So while all players exist in the context of a game, they might not all exist in terms of a league. If your league doesn’t use goalies or defense these players will not exist in your league.</p>
</div>
<div class="section level3">
<h3 id="a-disclaimer-">A disclaimer.<a class="anchor" aria-label="anchor" href="#a-disclaimer-"></a>
</h3>
<p>There are a lot of disclaimers in this package. This package was designed with hockey in mind but I tried to write the functions in a way that will accommodate all leagues.</p>
</div>
<div class="section level3">
<h3 id="tidyverse-">Tidyverse.<a class="anchor" aria-label="anchor" href="#tidyverse-"></a>
</h3>
<p>This package is written mostly with the tidyverse. Maybe that was a mistake.</p>
</div>
<div class="section level3">
<h3 id="key-nomenclature-">Key nomenclature.<a class="anchor" aria-label="anchor" href="#key-nomenclature-"></a>
</h3>
<p>As you may notice the first argument of nearly all the functions is a key. Sometimes it’s key, sometimes it league_key. Why is that? When a function accepts multiple types of keys the first argument is called key. If a function only accepts one type of key then the first argument is explicit.</p>
<ul>
<li>Game key ex - 411</li>
<li>League key ex - 411.l.1239</li>
<li>Team key ex- 411.l.1239.t.1</li>
<li>Player key ex - 411.p.6369</li>
</ul>
</div>
<div class="section level3">
<h3 id="basic-function-heirarchy-">Basic function heirarchy.<a class="anchor" aria-label="anchor" href="#basic-function-heirarchy-"></a>
</h3>
<ul>
<li>At its core YFAR has 3 types of functions:
<ol style="list-style-type: decimal">
<li><strong>Authentication</strong></li>
<li><strong>Accessory Functions</strong></li>
</ol>
<ul>
<li>Uninteresting but useful. Mostly for acquiring data to supply as arguments to other functions i.e. weeks, dates, team and league keys, etc.</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>
<strong>The Beef</strong><br>
</li>
</ol>
<ul>
<li>Probably why you are here. Rosters, stats, standings, matchups etc.</li>
</ul>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="function-feedback-and-debugging-">Function feedback and debugging.<a class="anchor" aria-label="anchor" href="#function-feedback-and-debugging-"></a>
</h3>
<p>Each function is equipped with a <code>debug</code> argument and a <code>quiet</code> argument.</p>
<ul>
<li>
<code>quiet</code> is fairly self explanatory and allows toggling of function feedback messages.</li>
<li>
<code>debug</code> allows the user to switch the return from a tibble to a list.<br>
</li>
<li>If a function fails it will almost certainly be due to parsing. The debug list return will contain:
<ul>
<li>The response object.</li>
<li>The response content.</li>
<li>URI/s called.</li>
<li>The resource.</li>
</ul>
</li>
</ul>
<p>This debug return will allow the user to still use the data or possibly parse the content oneself.</p>
<p>The debug return will be returned by tryCatch if the function fails.</p>
</div>
<div class="section level3">
<h3 id="memoisation-">Memoisation.<a class="anchor" aria-label="anchor" href="#memoisation-"></a>
</h3>
<p>In an attempt to speed things up and take pity on the API some of the functions are memoised.</p>
</div>
</div>
<div class="section level2">
<h2 id="getting-started-">Getting started.<a class="anchor" aria-label="anchor" href="#getting-started-"></a>
</h2>
<p>I registered an app at YDN and have my key and secret. What now? How do I start using this package?</p>
<ul>
<li>There are two core functions you will need to run to get started:
<ol style="list-style-type: decimal">
<li><code><a href="../reference/y_create_token.html">y_create_token()</a></code></li>
<li><code><a href="../reference/y_games.html">y_games()</a></code></li>
</ol>
</li>
</ul>
<div class="section level3">
<h3 id="create-a-token-">Create a token.<a class="anchor" aria-label="anchor" href="#create-a-token-"></a>
</h3>
<p>The absolute first this you must do is create a token. Every function has the <code>token_name</code> argument and the functions won’t do function stuff without a token.</p>
<pre><code><span class="fu"><a href="../reference/y_create_token.html">y_create_token</a></span><span class="op">(</span>my_key <span class="op">=</span> <span class="cn">NULL</span>, my_secret <span class="op">=</span> <span class="cn">NULL</span>, app_name <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre>
<p>A token is created using the <strong>KEY</strong> and <strong>SECRET</strong> given to you by the YDN as well as an app name.</p>
<div class="section level4">
<h4 id="y_create_token">
<code>y_create_token()</code><a class="anchor" aria-label="anchor" href="#y_create_token"></a>
</h4>
<pre><code><span class="va">my_token</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/y_create_token.html">y_create_token</a></span><span class="op">(</span>my_key <span class="op">=</span> <span class="st">"KEY"</span>, my_secret <span class="op">=</span> <span class="st">"SECRET"</span>, app_name <span class="op">=</span> <span class="st">"my_scraper"</span><span class="op">)</span></code></pre>
<p>Done and done but what exactly happened?</p>
<ul>
<li>This will create :
<ul>
<li>Token2.0 object.</li>
<li>Creates a file <code>.httr-oauth</code> which allows token refreshing.</li>
<li>If using version control will add <code>.httr-oauth</code> to <code>.gitignore</code>.</li>
</ul>
</li>
</ul>
<p>The token has some features which can help if you are getting http errors, specifically http error 401.</p>
<ul>
<li>Some of these include:
<ul>
<li>
<code>my_token$can_refresh()</code> - check if token is refreshable</li>
<li>
<code>my_token$refresh()</code> - refresh token</li>
</ul>
</li>
</ul>
<p>After creating a token you should not need to run <code><a href="../reference/y_create_token.html">y_create_token()</a></code> again for the session. You can just keep refreshing your existing token. I’ve never actually timed how long between token refresh calls but it’s around 20 minutes.</p>
<p>Now whenever you call a function you supply this value to the argument <code>token_name</code>.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="accessory-functions">ACCESSORY FUNCTIONS<a class="anchor" aria-label="anchor" href="#accessory-functions"></a>
</h2>
<p>Next it a good idea to call some of the smaller accessory functions. The returns from these functions are not all that interesting but will be used as inputs for the functions that probably brought you here.</p>
<div class="section level3">
<h3 id="get-game-info-">Get game info.<a class="anchor" aria-label="anchor" href="#get-game-info-"></a>
</h3>
<p>Now you can retrieve the general data from all the games you have participated in or are currently participating in.</p>
<div class="section level4">
<h4 id="y_games">
<code>y_games()</code><a class="anchor" aria-label="anchor" href="#y_games"></a>
</h4>
<p>Here’s where you get to use your token for the first time.</p>
<p>Let’s check out your games.</p>
<pre><code><span class="va">games</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/y_games.html">y_games</a></span><span class="op">(</span>token_name <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre>
<p><strong>The league_key and league_id are what will be used to tell the functions from which leagues you want data</strong></p>
<blockquote>
<p>Disclaimer</p>
<p>For the examples here-on-in I’ll use the league_key of a Yahoo! Public Fantasy Hockey League.</p>
<p>411.l.1239</p>
</blockquote>
<p>OK enough with all this setup stuff. Where the data at?</p>
</div>
</div>
<div class="section level3">
<h3 id="get-week-info-">Get week info.<a class="anchor" aria-label="anchor" href="#get-week-info-"></a>
</h3>
<p>The fantasy weeks corresponding to specific dates are handy to have.</p>
<pre><code><span class="va">weeks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/y_weeks.html">y_weeks</a></span><span class="op">(</span>game_key <span class="op">=</span> <span class="cn">NULL</span>, token_name <span class="op">=</span> <span class="cn">NULL</span>, debug <span class="op">=</span> <span class="cn">FALSE</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre>
<div class="section level4">
<h4 id="y_weeks">
<code>y_weeks()</code><a class="anchor" aria-label="anchor" href="#y_weeks"></a>
</h4>
<p>Use <code><a href="../reference/y_weeks.html">y_weeks()</a></code> to get the match-up schedule for a game. Here only the game key is necessary because the schedule for a game is set across all leagues. All that changes is what week the league commences and the week playoffs start.</p>
<p>411 denotes 2021 Hockey</p>
<pre><code><span class="va">weeks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/y_weeks.html">y_weeks</a></span><span class="op">(</span>game_key <span class="op">=</span> <span class="fl">411</span>, token_name <span class="op">=</span> <span class="va">my_token</span><span class="op">)</span></code></pre>
<p>Well that return from <code><a href="../reference/y_weeks.html">y_weeks()</a></code> wasn’t exactly what I was hoping for.</p>
<p>I know right? Like I mentioned above we need to call some smaller functions to get the inputs for the functions that do the heavy lifting.</p>
</div>
</div>
<div class="section level3">
<h3 id="get-team-info-">Get team info.<a class="anchor" aria-label="anchor" href="#get-team-info-"></a>
</h3>
<p>Many functions take team keys as arguments so you should go ahead and grab some, especially for you teams.</p>
<div class="section level4">
<h4 id="y_teams">
<code>y_teams()</code><a class="anchor" aria-label="anchor" href="#y_teams"></a>
</h4>
<p>Retrieve team data for teams in your league. It may be handy to run this function upfront as it will return a column named <code>team_key</code> which can be used to get data for specific teams.</p>
<pre><code><span class="fu"><a href="../reference/y_teams.html">y_teams</a></span><span class="op">(</span>league_key <span class="op">=</span> <span class="st">"411.l.1239"</span>, token_name <span class="op">=</span> <span class="va">my_token</span><span class="op">)</span></code></pre>
<blockquote>
<p>Disclaimer</p>
<p>Most functions will accept a vector of keys.</p>
</blockquote>
</div>
</div>
</div>
<div class="section level2">
<h2 id="the-beef">THE BEEF!<a class="anchor" aria-label="anchor" href="#the-beef"></a>
</h2>
<p>Now can get into the functions that probably brought you here. Team stats, rosters, player stats, standings info and more.</p>
<div class="section level3">
<h3 id="get-league-info-">Get league info.<a class="anchor" aria-label="anchor" href="#get-league-info-"></a>
</h3>
<div class="section level4">
<h4 id="y_league_settings">
<code>y_league_settings()</code><a class="anchor" aria-label="anchor" href="#y_league_settings"></a>
</h4>
<p>Retrieving the settings for a league will return nested tibbles of values pertaining to league settings, roster positions as well as other league information.</p>
<pre><code><span class="fu"><a href="../reference/y_league_settings.html">y_league_settings</a></span><span class="op">(</span>league_key <span class="op">=</span> <span class="st">"411.l.1239"</span>, <span class="va">my_token</span>, debug <span class="op">=</span> <span class="cn">FALSE</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre>
<p>Extract an element to view the tibble.</p>
<pre><code><span class="va">stat_cats</span> <span class="op">&lt;-</span><span class="va">league_settings</span><span class="op">$</span><span class="va">stat_categories</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="get-team-data-">Get team data.<a class="anchor" aria-label="anchor" href="#get-team-data-"></a>
</h3>
<div class="section level4">
<h4 id="y_team_stats">
<code>y_team_stats()</code><a class="anchor" aria-label="anchor" href="#y_team_stats"></a>
</h4>
<p>Let’s see some team stats. I want to know how many goals my team has scored.</p>
<p>Accepts a league or team key.</p>
<pre><code><span class="va">team_stats_current_week</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/y_team_stats.html">y_team_stats</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"411.l.1239"</span>, <span class="va">my_token</span><span class="op">)</span></code></pre>
<p>The week param pertains to a particular week of the fantasy season.</p>
<ul>
<li>Accepts 3 arguments:
<ul>
<li>Default is <code>NULL</code> returns aggregated season stats.</li>
<li>
<code>current</code> returns current week of season.</li>
<li>An integer corresponding to a week of season.</li>
</ul>
<code>y_team_stats(key = "411.l.1239", my_token, week = NULL)</code>
</li>
</ul>
<p>Or select a week of season.</p>
<pre><code><span class="fu"><a href="../reference/y_team_stats.html">y_team_stats</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"411.l.1239"</span>, <span class="va">my_token</span>, week <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></code></pre>
<p>Or maybe you’re only interested in your team.</p>
<pre><code><span class="va">my_team_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/y_team_stats.html">y_team_stats</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"411.l.1239.t.1"</span>, <span class="va">my_token</span><span class="op">)</span></code></pre>
<p>Or multiple teams. Hey I’m not judging, been know to have 5 or 10 myself.</p>
<pre><code><span class="va">my_team_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/y_team_stats.html">y_team_stats</a></span><span class="op">(</span>key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"411.l.1239.t.1"</span>, <span class="st">"411.l.1239.t.2"</span><span class="op">)</span>, <span class="va">my_token</span><span class="op">)</span></code></pre>
</div>
<div class="section level4">
<h4 id="y_matchups">
<code>y_matchups()</code><a class="anchor" aria-label="anchor" href="#y_matchups"></a>
</h4>
<p>How do I see my matchups? Default arguments return past and current matchups</p>
<pre><code><span class="va">my_matchups</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/y_matchups.html">y_matchups</a></span><span class="op">(</span><span class="st">"411.l.1239.t.1"</span>, <span class="va">my_token</span><span class="op">)</span></code></pre>
<p>Also takes a week argument. Return week 8 matchup.</p>
<pre><code><span class="va">my_week_8_matchup</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/y_matchups.html">y_matchups</a></span><span class="op">(</span><span class="st">"411.l.1239.t.1"</span>, <span class="va">my_token</span>, week <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></code></pre>
<div class="section level5">
<h5 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h5>
<p>Multiple weeks</p>
<pre><code><span class="fu"><a href="../reference/y_matchups.html">y_matchups</a></span><span class="op">(</span>team_key <span class="op">=</span> <span class="st">"411.l.1239.t.1"</span>, <span class="va">my_token</span>, week <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span></code></pre>
<p>Multiple teams</p>
<pre><code><span class="fu"><a href="../reference/y_matchups.html">y_matchups</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>team_key <span class="op">=</span> <span class="st">"411.l.1239.t.1"</span>, <span class="st">"411.l.1239.t.8"</span><span class="op">)</span>, <span class="va">my_token</span>, week <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></code></pre>
<p>Multiple teams with multiple weeks</p>
<pre><code><span class="fu"><a href="../reference/y_matchups.html">y_matchups</a></span><span class="op">(</span>team_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"411.l.1239.t.1"</span>, <span class="st">"411.l.1239.t.8"</span><span class="op">)</span>, <span class="va">my_token</span>, week <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span></code></pre>
</div>
</div>
</div>
<div class="section level3">
<h3 id="get-transaction-data-">Get transaction data.<a class="anchor" aria-label="anchor" href="#get-transaction-data-"></a>
</h3>
<p>I want to see all the moves made in my league this year. Can I do that? Yeah Baby!</p>
<blockquote>
<p>Disclaimer :</p>
<p>Waiver claims are special transaction not covered by <code><a href="../reference/y_transactions.html">y_transactions()</a></code>.</p>
</blockquote>
<div class="section level4">
<h4 id="y_transactions">
<code>y_transactions()</code><a class="anchor" aria-label="anchor" href="#y_transactions"></a>
</h4>
<p>Return all non-waiver transactions from a league.</p>
<pre><code><span class="fu"><a href="../reference/y_transactions.html">y_transactions</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"411.l.1239"</span>, token_name <span class="op">=</span> <span class="va">my_token</span>, count <span class="op">=</span> <span class="cn">NULL</span>, transaction_type <span class="op">=</span> <span class="cn">NULL</span>, debug <span class="op">=</span> <span class="cn">FALSE</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre>
<ul>
<li>Arguments count and transaction_type can be supplied filter the return:
<ul>
<li>count :
<ul>
<li>a positive integer</li>
</ul>
</li>
<li>transaction_type :
<ul>
<li>“commish”</li>
<li>“add”</li>
<li>“drop”</li>
<li>“trade”</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="section level5">
<h5 id="examples-1">Examples<a class="anchor" aria-label="anchor" href="#examples-1"></a>
</h5>
<p>Here are the last 5 transactions for team 1. Notice that the length of the return will not necessarily be 5 because multiple players can be part of a transaction.</p>
<pre><code><span class="fu"><a href="../reference/y_transactions.html">y_transactions</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"411.l.1239.t.1"</span>, token_name <span class="op">=</span> <span class="va">my_token</span>, count <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></code></pre>
<p>The last 10 transactions in the league.</p>
<pre><code><span class="fu"><a href="../reference/y_transactions.html">y_transactions</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"411.l.1239"</span>, token_name <span class="op">=</span> <span class="va">my_token</span>, count <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></code></pre>
<p>The last trade in the league.</p>
<pre><code><span class="fu"><a href="../reference/y_transactions.html">y_transactions</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"411.l.1239"</span>, token_name <span class="op">=</span> <span class="va">my_token</span>, count <span class="op">=</span> <span class="fl">1</span>, transaction_type <span class="op">=</span> <span class="st">"trade"</span><span class="op">)</span></code></pre>
<p>Unfortunately as of right now you can’t filter by date or sort with this function.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="get-player-data-">Get player data.<a class="anchor" aria-label="anchor" href="#get-player-data-"></a>
</h3>
<p>These functions return meta data on players such as position eligibility, full name, jersey number etc.</p>
<div class="section level4">
<h4 id="y_players-vs-y_player_slate">
<code>y_players()</code> vs <code>y_player_slate()</code><a class="anchor" aria-label="anchor" href="#y_players-vs-y_player_slate"></a>
</h4>
<blockquote>
<p>Disclaimer</p>
<p>These functions don’t return player stats. Use <code><a href="../reference/y_player_stats.html">y_player_stats()</a></code> to retrieve player stats.</p>
</blockquote>
<p><code><a href="../reference/y_players.html">y_players()</a></code> is intended to get a slice of players and takes arguments for specifying which and how many players to return.</p>
<p>The reason for this is that leagues contain a different number of players. Due the Yahoo api only returning 25 players at a time a while loop is used to get the next 25 players until a response contains less than 25 players which is assumed to be the end of the resource.</p>
<p>Having said all that or TLDR use <code><a href="../reference/y_player_slate.html">y_player_slate()</a></code> to return all players that exist in your league.</p>
</div>
<div class="section level4">
<h4 id="y_player_slate">
<code>y_player_slate()</code><a class="anchor" aria-label="anchor" href="#y_player_slate"></a>
</h4>
<p>Get all the players that exist in your league. This function can be slow so it includes a progress bar.</p>
<blockquote>
<p>Disclaimer</p>
<p>This function may be somewhat slow due to its use of janitor::make_clean_names. I would/should change it but you don’t love your dog as much as I love janitor.</p>
</blockquote>
<p>league key</p>
<pre><code><span class="fu"><a href="../reference/y_player_slate.html">y_player_slate</a></span><span class="op">(</span>league_key <span class="op">=</span> <span class="st">"411.l.1239"</span>, token_name <span class="op">=</span> <span class="va">my_token</span><span class="op">)</span></code></pre>
<p>game key</p>
<pre><code><span class="fu"><a href="../reference/y_player_slate.html">y_player_slate</a></span><span class="op">(</span>game_key <span class="op">=</span> <span class="st">"411"</span>, token_name <span class="op">=</span> <span class="va">my_token</span><span class="op">)</span></code></pre>
<p>A game and league key may have different returns depending on sorting and filtering arguments. This is due to the fact that ranking depends on league settings.</p>
</div>
<div class="section level4">
<h4 id="y_players">
<code>y_players()</code><a class="anchor" aria-label="anchor" href="#y_players"></a>
</h4>
<p>To get a slice of the players in your league. By default starts at 0 and returns 100 players sorted by “AR” (actual rank).</p>
<pre><code><span class="fu"><a href="../reference/y_players.html">y_players</a></span><span class="op">(</span><span class="st">"411.l.1239"</span>, token_name <span class="op">=</span> <span class="va">my_token</span>, start <span class="op">=</span> <span class="fl">0</span>, 
          number_of_players <span class="op">=</span> <span class="fl">100</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span>, debug <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></code></pre>
<p>Pass filters as key value pairs to … arguments to customize your return. The value should be a string i.e. status = “FA”.</p>
<ul>
<li>Valid filters :
<ul>
<li>position (Valid player positions, e.g. position = “C”)</li>
<li>status
<ul>
<li>All (all players)</li>
<li>A (all available players),</li>
<li>FA (free agents only),</li>
<li>W (waivers only),</li>
<li>T (all taken players),</li>
<li>K (keepers only)</li>
</ul>
</li>
<li>search (player name e.g. /players;search=smith)</li>
<li>sort
<ul>
<li>{stat_id} (valid stat in your league e.g. sort by goals {/sort=“1”}),</li>
<li>NAME (last, first),</li>
<li>OR (overall rank),</li>
<li>AR (actual rank),</li>
<li>PTS (fantasy points)</li>
<li>start (Any integer 0 or greater e.g. /players;start=25)</li>
<li>count (Any integer b/t 0 &amp; 25 /players;count=5)</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="examples-">Examples.<a class="anchor" aria-label="anchor" href="#examples-"></a>
</h4>
<p>Top 10 players filtered by all ownership types sorted by original (preseason) rank (“OR”).</p>
<pre><code><span class="fu"><a href="../reference/y_players.html">y_players</a></span><span class="op">(</span><span class="st">"411.l.1239"</span>, token_name <span class="op">=</span> <span class="va">my_token</span>, number_of_players <span class="op">=</span> <span class="fl">10</span>, sort <span class="op">=</span> <span class="st">"OR"</span>, status <span class="op">=</span> <span class="st">"ALL"</span><span class="op">)</span></code></pre>
<p>Top 10 players filtered by all ownership types and sorted by goals (stat=“1”).</p>
<pre><code><span class="fu"><a href="../reference/y_players.html">y_players</a></span><span class="op">(</span><span class="st">"411.l.1239"</span>, token_name <span class="op">=</span> <span class="va">my_token</span>, number_of_players <span class="op">=</span> <span class="fl">10</span>, sort <span class="op">=</span> <span class="st">"1"</span>, status <span class="op">=</span> <span class="st">"ALL"</span><span class="op">)</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="get-draft-results-and-adps-">Get draft results and ADP’s.<a class="anchor" aria-label="anchor" href="#get-draft-results-and-adps-"></a>
</h3>
<p>I want to see the draft results from my league. You must be able to that? Right you are! And average draft positions too?? ;)</p>
<div class="section level4">
<h4 id="y_draft_results">
<code>y_draft_results()</code><a class="anchor" aria-label="anchor" href="#y_draft_results"></a>
</h4>
<p>League key:</p>
<pre><code><span class="fu"><a href="../reference/y_draft_results.html">y_draft_results</a></span><span class="op">(</span><span class="st">"411.l.1239"</span>, token_name <span class="op">=</span> <span class="va">my_token</span>, debug <span class="op">=</span> <span class="cn">FALSE</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre>
<p>Or a team key:</p>
<pre><code><span class="fu"><a href="../reference/y_draft_results.html">y_draft_results</a></span><span class="op">(</span><span class="st">"411.l.1239.t.1"</span>, token_name <span class="op">=</span> <span class="va">my_token</span>, debug <span class="op">=</span> <span class="cn">FALSE</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre>
<p>Who is player 411.p.2453? What is this mess?</p>
<p>The resource return from draft results is underwhelming as it doesn’t include the player names or positions or anything intelligible. Unless maybe you’re Pierre Mcguire who surely has all these keys memorized. But fear not….</p>
<p>Because the functions accept a vector of keys the player_key vector from draft_results can be used with <code><a href="../reference/y_players.html">y_players()</a></code> or <code><a href="../reference/y_rosters.html">y_rosters()</a></code>.</p>
</div>
<div class="section level4">
<h4 id="y_draft_adp">
<code>y_draft_adp()</code><a class="anchor" aria-label="anchor" href="#y_draft_adp"></a>
</h4>
<p>I’m sure some viz enthusiasts will enjoy gettign their mitts on these numbers. If given a game or league key the return will be eerily similar to <code><a href="../reference/y_player_slate.html">y_player_slate()</a></code> except it will have those 4 extra columns provided by the draft analysis sub-resource. Ta Da!</p>
<p>Game key. <code>y_draft_adp(key = "411", token_name = my_token)</code></p>
<p>League key. <code>y_draft_adp(key = "411.l.1239", token_name = my_token)</code></p>
<p>Player key. Last but not least probably the most succinct way to use <code><a href="../reference/y_draft_adp.html">y_draft_adp()</a></code>, supply a vector of player keys. The player resource will contain the least amount of additional overhead information.</p>
<pre><code><span class="fu"><a href="../reference/y_draft_adp.html">y_draft_adp</a></span><span class="op">(</span>key <span class="op">=</span> <span class="va">vector_of_player_keys</span>, token_name <span class="op">=</span> <span class="va">my_token</span><span class="op">)</span></code></pre>
<div class="section level5">
<h5 id="examples-2">Examples<a class="anchor" aria-label="anchor" href="#examples-2"></a>
</h5>
<pre><code>unreadable_drafted_players &lt;- y_draft_results("411.l.1239.t.1", token_name = my_token)

my_player_keys &lt;- unreadable_drafted_players$draft_result_player_key

readable_drafted_players &lt;- y_players(key = my_player_keys, token_name = my_token</code></pre>
<p>See which players drafted by a team are still currently on the team’s roster.</p>
<pre><code><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">inner_join</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/y_rosters.html">y_rosters</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"411.l.1239.t.1"</span>, <span class="va">my_token</span>, debug <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,
  <span class="fu"><a href="../reference/y_draft_results.html">y_draft_results</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"411.l.1239.t.1"</span>, <span class="va">my_token</span>, debug <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,
  by <span class="op">=</span> <span class="st">"player_key"</span>
<span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="st">"player_full"</span><span class="op">)</span></code></pre>
</div>
</div>
</div>
<div class="section level3">
<h3 id="get-scoreboard-data-">Get scoreboard data.<a class="anchor" aria-label="anchor" href="#get-scoreboard-data-"></a>
</h3>
<p>Is there a way to see all the league matchups? YFAR says hold my beer and returns league wide matchup data. Takes an integer week argument and the NULL default returns the current week.</p>
<div class="section level4">
<h4 id="y_scoreboard">
<code>y_scoreboard()</code><a class="anchor" aria-label="anchor" href="#y_scoreboard"></a>
</h4>
<pre><code><span class="fu"><a href="../reference/y_scoreboard.html">y_scoreboard</a></span><span class="op">(</span>league_key <span class="op">=</span> <span class="st">"411.l.1239"</span>, token_name <span class="op">=</span> <span class="va">my_token</span>, week <span class="op">=</span> <span class="cn">NULL</span>, debug <span class="op">=</span> <span class="cn">FALSE</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre>
<p>An inevitable question :</p>
<p>Well what’s the difference between y_matchups and y_scoreboard?</p>
<p>They are similar and “under the hood” they use the same parsing functions but y_matchups takes a team key where y_scoreboard takes a league key.</p>
<p>In theory one could achieve the same return using y_matchups and mapping over the team_id’s of a league but calling y_scoreboard is obviously easier.</p>
<p>So…..</p>
<div class="section level5">
<h5 id="examples-3">Examples<a class="anchor" aria-label="anchor" href="#examples-3"></a>
</h5>
<p>Multiple leagues</p>
<pre><code><span class="fu"><a href="../reference/y_scoreboard.html">y_scoreboard</a></span><span class="op">(</span>league_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">league_1_key</span>, <span class="va">league_2_key</span><span class="op">)</span>, token_name <span class="op">=</span> <span class="va">my_token</span><span class="op">)</span></code></pre>
<p>Multiple weeks</p>
<pre><code><span class="fu"><a href="../reference/y_scoreboard.html">y_scoreboard</a></span><span class="op">(</span>league_key <span class="op">=</span> <span class="st">"411.l.1239"</span>, token_name <span class="op">=</span> <span class="va">my_token</span>, week <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></code></pre>
<p>Both</p>
<pre><code><span class="fu"><a href="../reference/y_scoreboard.html">y_scoreboard</a></span><span class="op">(</span>league_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">league_1_key</span>, <span class="va">league_2_key</span><span class="op">)</span>, <span class="va">my_token</span>, week <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></code></pre>
</div>
</div>
</div>
<div class="section level3">
<h3 id="get-standings-data-">Get standings data.<a class="anchor" aria-label="anchor" href="#get-standings-data-"></a>
</h3>
<p>Wins, losses, win percentages, ya dig? Lets see some standings info!</p>
<div class="section level4">
<h4 id="y_standings">
<code>y_standings()</code><a class="anchor" aria-label="anchor" href="#y_standings"></a>
</h4>
<p>Sad story,</p>
<p>This function is best use with <code><a href="../reference/y_teams.html">y_teams()</a></code> to supply a vector to team keys from a league. It seems you should be able to supply a league key to this function but for some reason the request returns a bunch of team stats data and I wanted to keep that in the <code><a href="../reference/y_team_stats.html">y_team_stats()</a></code> function.</p>
<p>So lets start with one team. This returns team and standings info.</p>
<pre><code><span class="fu"><a href="../reference/y_standings.html">y_standings</a></span><span class="op">(</span><span class="st">"41l.l.1239.t.1"</span>, <span class="va">my_token</span>, debug <span class="op">=</span> <span class="cn">FALSE</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre>
<div class="section level5">
<h5 id="examples-4">Examples<a class="anchor" aria-label="anchor" href="#examples-4"></a>
</h5>
<p>All teams in your league</p>
<pre><code><span class="va">teams_in_my_league</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/y_teams.html">y_teams</a></span><span class="op">(</span>team_key <span class="op">=</span> <span class="st">"411.l.1239"</span>, <span class="va">my_token</span><span class="op">)</span>

<span class="fu"><a href="../reference/y_standings.html">y_standings</a></span><span class="op">(</span>team_key <span class="op">=</span> <span class="va">teams_in_my_league</span>, <span class="va">my_token</span><span class="op">)</span></code></pre>
</div>
</div>
</div>
<div class="section level3">
<h3 id="get-roster-data-">Get roster data.<a class="anchor" aria-label="anchor" href="#get-roster-data-"></a>
</h3>
<p>If you are looking for the roster function here it is. I put it at the bottle in a silly attempt to troll. I figure this is gonna be the most used function in the package but wanted to advertise the rest</p>
<div class="section level4">
<h4 id="y_rosters">
<code>y_rosters()</code><a class="anchor" aria-label="anchor" href="#y_rosters"></a>
</h4>
<pre><code><span class="fu"><a href="../reference/y_rosters.html">y_rosters</a></span><span class="op">(</span>key <span class="op">=</span> <span class="cn">NULL</span>, token_name <span class="op">=</span> <span class="cn">NULL</span>, game_date <span class="op">=</span> <span class="cn">NULL</span>, debug <span class="op">=</span> <span class="cn">FALSE</span>,                    quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre>
<div class="section level5">
<h5 id="examples-5">Examples<a class="anchor" aria-label="anchor" href="#examples-5"></a>
</h5>
<p>League rosters</p>
<pre><code><span class="fu"><a href="../reference/y_rosters.html">y_rosters</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"411.l.1239"</span>, token_name <span class="op">=</span> <span class="va">my_token</span>, game_date <span class="op">=</span> <span class="cn">NULL</span>, debug <span class="op">=</span> <span class="cn">FALSE</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre>
<p>Team Roster</p>
<pre><code><span class="fu"><a href="../reference/y_rosters.html">y_rosters</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"411.l.1239.t.1"</span>, token_name <span class="op">=</span> <span class="va">my_token</span>, game_date <span class="op">=</span> <span class="cn">NULL</span>, debug <span class="op">=</span> <span class="cn">FALSE</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre>
<p>Date argument</p>
<p>A date argument can be supplied in the form YYYY-MM-DD.</p>
<pre><code><span class="va">team_roster_w_date</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/y_rosters.html">y_rosters</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"411.l.1239.t.1"</span>, token_name <span class="op">=</span> <span class="va">my_token</span>, game_date <span class="op">=</span> <span class="st">"2021-10-12"</span><span class="op">)</span></code></pre>
<p>Multiple dates</p>
<p>Create a date sequence from fantasy week 1 using return from <code><a href="../reference/y_weeks.html">y_weeks()</a></code>.</p>
<pre><code><span class="va">weeks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/y_weeks.html">y_weeks</a></span><span class="op">(</span>game_key <span class="op">=</span> <span class="fl">411</span>, token_name <span class="op">=</span> <span class="va">my_token</span><span class="op">)</span>

<span class="va">week_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.Date.html" class="external-link">seq.Date</a></span><span class="op">(</span>
            from <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="va">weeks</span><span class="op">$</span><span class="va">start</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>, 
            to <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="va">weeks</span><span class="op">$</span><span class="va">end</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>, 
            by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></code></pre>
<p>Use dates in <code>week_1</code> as <code>game_date</code> argument in <code>y_rosters</code>.</p>
<pre><code><span class="fu"><a href="../reference/y_rosters.html">y_rosters</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"411.l.1239.t.1"</span>, token_name <span class="op">=</span> <span class="va">my_token</span>, game_date <span class="op">=</span> <span class="va">week_1</span><span class="op">)</span></code></pre>
<p>Multiple teams</p>
<pre><code><span class="fu"><a href="../reference/y_rosters.html">y_rosters</a></span><span class="op">(</span>key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">team_1</span>, <span class="va">team_2</span><span class="op">)</span>, token_name <span class="op">=</span> <span class="va">my_token</span>, game_date <span class="op">=</span> <span class="va">week_1</span><span class="op">)</span></code></pre>
<p>Multiple Teams and Dates</p>
<pre><code><span class="fu"><a href="../reference/y_rosters.html">y_rosters</a></span><span class="op">(</span>key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">team_1</span>, <span class="va">team_2</span><span class="op">)</span>, token_name <span class="op">=</span> <span class="va">my_token</span>, game_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2021-12-01"</span>, <span class="st">"2021-12-02"</span><span class="op">)</span><span class="op">)</span></code></pre>
</div>
</div>
</div>
<div class="section level3">
<h3 id="get-player-stats-">Get player stats.<a class="anchor" aria-label="anchor" href="#get-player-stats-"></a>
</h3>
<p>The survey says this is the number 2 answer to “why are you here?”. Let’s see some player stats! Unfortunately again this function is dependent on those pesky keys. To get stats for players use a vector of player keys.</p>
<div class="section level4">
<h4 id="y_player_stats">
<code>y_player_stats()</code><a class="anchor" aria-label="anchor" href="#y_player_stats"></a>
</h4>
<pre><code><span class="fu"><a href="../reference/y_player_stats.html">y_player_stats</a></span><span class="op">(</span>player_key <span class="op">=</span> <span class="cn">NULL</span>, token_name <span class="op">=</span> <span class="cn">NULL</span>, game_date <span class="op">=</span> <span class="cn">NULL</span>, debug <span class="op">=</span> <span class="cn">FALSE</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre>
<p>Here’s a basic example using Leon Draisaitl.</p>
<pre><code><span class="va">draisaitl_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/y_player_stats.html">y_player_stats</a></span><span class="op">(</span>player_key <span class="op">=</span> <span class="st">"411.p.6369"</span>, token_name <span class="op">=</span> <span class="va">my_token</span><span class="op">)</span></code></pre>
<p>Well that’s bs why can’t I just use the player’s name!? Where did you get that player key number anyways?</p>
<ul>
<li>The player key can be found using:
<ul>
<li><code><a href="../reference/y_player_slate.html">y_player_slate()</a></code></li>
<li><code><a href="../reference/y_players.html">y_players()</a></code></li>
<li><code><a href="../reference/y_rosters.html">y_rosters()</a></code></li>
</ul>
</li>
</ul>
</div>
<div class="section level4">
<h4 id="examples-6">Examples<a class="anchor" aria-label="anchor" href="#examples-6"></a>
</h4>
<p>Here’s an example from the public league.</p>
<pre><code><span class="fu"><a href="../reference/y_rosters.html">y_rosters</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"411.l.1239.t.1"</span>, token_name <span class="op">=</span> <span class="va">my_token</span><span class="op">)</span></code></pre>
<p>OK so what? I have to write down those numbers and run this function for each player?</p>
<p>Nope! <code><a href="../reference/y_player_stats.html">y_player_stats()</a></code> can take a vector of player keys. Here’s how using our roster from the last example.</p>
<pre><code><span class="fu"><a href="../reference/y_player_stats.html">y_player_stats</a></span><span class="op">(</span>player_key <span class="op">=</span> <span class="va">team_1_roster</span><span class="op">$</span><span class="va">player_key</span>, token_name <span class="op">=</span> <span class="va">my_token</span><span class="op">)</span></code></pre>
<p>OK well that’s pretty good but what if I only want stats for my players from yesterday?</p>
<pre><code><span class="fu"><a href="../reference/y_player_stats.html">y_player_stats</a></span><span class="op">(</span>player_key <span class="op">=</span> <span class="va">team_1_roster</span><span class="op">$</span><span class="va">player_key</span>, token_name <span class="op">=</span> <span class="va">my_token</span>, 
                  game_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span></code></pre>
<p>And can it get my players stats for week 7? Yes! You can supply a vector of dates.</p>
<p>Using y_weeks we can find the start and end date for week 7.</p>
<pre><code><span class="va">weeks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/y_weeks.html">y_weeks</a></span><span class="op">(</span>game_key <span class="op">=</span> <span class="fl">411</span>, token_name <span class="op">=</span> <span class="va">my_token</span><span class="op">)</span>

<span class="va">week_7</span> <span class="op">&lt;-</span> 
  <span class="va">weeks</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">week</span> <span class="op">==</span> <span class="fl">7</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">start</span>, <span class="va">end</span><span class="op">)</span></code></pre>
<p>And create a date sequence</p>
<pre><code><span class="va">week_7_dates</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="https://rdrr.io/r/base/seq.Date.html" class="external-link">seq.Date</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">week_7</span><span class="op">$</span><span class="va">start</span><span class="op">)</span>,
  to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">week_7</span><span class="op">$</span><span class="va">end</span><span class="op">)</span>,
  by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></code></pre>
<p>Week 7 player record count</p>
<pre><code><span class="va">week_7_stats</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="../reference/y_player_stats.html">y_player_stats</a></span><span class="op">(</span>
  players <span class="op">=</span> <span class="va">team_1_roster</span><span class="op">$</span><span class="va">player_key</span>,
  token_name <span class="op">=</span> <span class="va">my_token</span>,
  game_date <span class="op">=</span> <span class="va">week_7_dates</span><span class="op">)</span></code></pre>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by William O’Leary.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
